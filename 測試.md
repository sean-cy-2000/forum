curl -X POST http://localhost:3000/user/regist \
     -H "Content-Type: application/json" \
     -d '{"account": "jack", "password": "jack"}'

curl -X POST http://localhost:3000/user/login \
     -H "Content-Type: application/json" \
     -d '{"account": "jack", "password": "jack"}'

curl -X GET http://localhost:3000/user/profile \
-H "Authorization: Bearer "

curl -X POST http://localhost:3000/post/createPost \
     -H "Content-Type: application/json" \
     -H "Authorization: Bearer " \
     -d '{"title": "測試文章", "content": "這是一篇測試文章的內容", "category": "測試", "tags": ["test", "demo"]}'




sean2000@lenovoIdeaPad:~$ curl -X POST http://localhost:3000/post/addComment/670bbfa0ceece7b1f3d9a19d \

     -H "Content-Type: application/json" \

     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzA1MWE3MTJjNzAwMDIyNDM4MWRiOWUiLCJhY2NvdW50Ijoic2VhbiIsImlhdCI6MTcyODgyMzMxMywiZXhwIjoxNzI4ODI2OTEzfQ.DeHpuJIwWz9jLV2IJbj2_gphGv9vtvIsArAFBDreM5w" \

     -d '{"content": "這是 sean 的評論"}'

{"message":"留言成功","文章標題":"測試文章","留言資訊":{"留言者":"sean","留言內容":"這是 sean 的評論","留言時間":"2024-10-13T12:54:20.753Z"}}

forum> db.posts.find()

[

  {

    _id: ObjectId('670bbfa0ceece7b1f3d9a19d'),

    postOwnerId: ObjectId('670bbe32ceece7b1f3d9a19a'),

    title: '測試文章',

    content: '這是一篇測試文章的內容',

    category: '測試',

    tags: [ 'test', 'demo' ],

    commentsCount: 1,

    likers: [],

    likersCount: 0,

    collectors: [],

    collectorsCount: 0,

    status: 'public',

    comments: [

      {

        commenter: ObjectId('67051a712c7000224381db9e'),

        content: '這是 sean 的評論',

        _id: ObjectId('670bc2fcceece7b1f3d9a1a2'),

        createdAt: ISODate('2024-10-13T12:54:20.753Z'),

        updatedAt: ISODate('2024-10-13T12:54:20.753Z')

      }

    ],

    createdAt: ISODate('2024-10-13T12:40:00.105Z'),

    updatedAt: ISODate('2024-10-13T12:54:20.753Z'),

    __v: 0

  }

]

sean2000@lenovoIdeaPad:~$ curl -X POST http://localhost:3000/post/addLike/670bbfa0ceece7b1f3d9a19d \
     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzA1MWE3MTJjNzAwMDIyNDM4MWRiOWUiLCJhY2NvdW50Ijoic2VhbiIsImlhdCI6MTcyODgyMzMxMywiZXhwIjoxNzI4ODI2OTEzfQ.DeHpuJIwWz9jLV2IJbj2_gphGv9vtvIsArAFBDreM5w"
{"message":"點贊成功","like":{"_id":"670bbfa0ceece7b1f3d9a19d","postOwnerId":"670bbe32ceece7b1f3d9a19a","title":"測試文章","content":"這是一篇測試文章的內容","category":"測試","tags":["test","demo"],"commentsCount":1,"likers":["67051a712c7000224381db9e"],"likersCount":1,"collectors":[],"collectorsCount":0,"status":"public","comments":[{"commenter":"67051a712c7000224381db9e","content":"這是 sean 的評論","_id":"670bc2fcceece7b1f3d9a1a2","createdAt":"2024-10-13T12:54:20.753Z","updatedAt":"2024-10-13T12:54:20.753Z"}],"createdAt":"2024-10-13T12:40:00.105Z","updatedAt":"2024-10-13T13:00:10.995Z","__v":0}}

forum> db.posts.find()
[
  {
    _id: ObjectId('670bbfa0ceece7b1f3d9a19d'),
    postOwnerId: ObjectId('670bbe32ceece7b1f3d9a19a'),
    title: '測試文章',
    content: '這是一篇測試文章的內容',
    category: '測試',
    tags: [ 'test', 'demo' ],
    commentsCount: 1,
    likers: [ ObjectId('67051a712c7000224381db9e') ],
    likersCount: 1,
    collectors: [],
    collectorsCount: 0,
    status: 'public',
    comments: [
      {
        commenter: ObjectId('67051a712c7000224381db9e'),
        content: '這是 sean 的評論',
        _id: ObjectId('670bc2fcceece7b1f3d9a1a2'),
        createdAt: ISODate('2024-10-13T12:54:20.753Z'),
        updatedAt: ISODate('2024-10-13T12:54:20.753Z')
      }
    ],
    createdAt: ISODate('2024-10-13T12:40:00.105Z'),
    updatedAt: ISODate('2024-10-13T13:00:10.995Z'),
    __v: 0
  }
]


sean2000@lenovoIdeaPad:~$ curl -X POST http://localhost:3000/post/addCollect/670bbfa0ceece7b1f3d9a19d \
     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzA1MWE3MTJjNzAwMDIyNDM4MWRiOWUiLCJhY2NvdW50Ijoic2VhbiIsImlhdCI6MTcyODgyMzMxMywiZXhwIjoxNzI4ODI2OTEzfQ.DeHpuJIwWz9jLV2IJbj2_gphGv9vtvIsArAFBDreM5w"
{"message":"收藏成功","collect":{"_id":"670bbfa0ceece7b1f3d9a19d","postOwnerId":"670bbe32ceece7b1f3d9a19a","title":"測試文章","content":"這是一篇測試文章的內容","category":"測試","tags":["test","demo"],"commentsCount":1,"likers":["67051a712c7000224381db9e"],"likersCount":1,"collectors":["67051a712c7000224381db9e"],"collectorsCount":1,"status":"public","comments":[{"commenter":"67051a712c7000224381db9e","content":"這是 sean 的評論","_id":"670bc2fcceece7b1f3d9a1a2","createdAt":"2024-10-13T12:54:20.753Z","updatedAt":"2024-10-13T12:54:20.753Z"}],"createdAt":"2024-10-13T12:40:00.105Z","updatedAt":"2024-10-13T13:01:21.261Z","__v":0}}

forum> db.posts.find()
[
  {
    _id: ObjectId('670bbfa0ceece7b1f3d9a19d'),
    postOwnerId: ObjectId('670bbe32ceece7b1f3d9a19a'),
    title: '測試文章',
    content: '這是一篇測試文章的內容',
    category: '測試',
    tags: [ 'test', 'demo' ],
    commentsCount: 1,
    likers: [ ObjectId('67051a712c7000224381db9e') ],
    likersCount: 1,
    collectors: [ ObjectId('67051a712c7000224381db9e') ],
    collectorsCount: 1,
    status: 'public',
    comments: [
      {
        commenter: ObjectId('67051a712c7000224381db9e'),
        content: '這是 sean 的評論',
        _id: ObjectId('670bc2fcceece7b1f3d9a1a2'),
        createdAt: ISODate('2024-10-13T12:54:20.753Z'),
        updatedAt: ISODate('2024-10-13T12:54:20.753Z')
      }
    ],
    createdAt: ISODate('2024-10-13T12:40:00.105Z'),
    updatedAt: ISODate('2024-10-13T13:01:21.261Z'),
    __v: 0
  }
]

sean2000@lenovoIdeaPad:~$ curl -X POST http://localhost:3000/post/addLike/670bbfa0ceece7b1f3d9a19d      -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2NzA1MWE3MTJjNzAwMDIyNDM4MWRiOWUiLCJhY2NvdW50Ijoic2VhbiIsImlhdCI6MTcyODgyMzMxMywiZXhwIjoxNzI4ODI2OTEzfQ.DeHpuJIwWz9jLV2IJbj2_gphGv9vtvIsArAFBDreM5w"
{"message":"取消點贊","unlike":{"_id":"670bbfa0ceece7b1f3d9a19d","postOwnerId":"670bbe32ceece7b1f3d9a19a","title":"測試文章","content":"這是一篇測試文章的內容","category":"測試","tags":["test","demo"],"commentsCount":1,"likers":[],"likersCount":0,"collectors":["67051a712c7000224381db9e"],"collectorsCount":1,"status":"public","comments":[{"commenter":"67051a712c7000224381db9e","content":"這是 sean 的評論","_id":"670bc2fcceece7b1f3d9a1a2","createdAt":"2024-10-13T12:54:20.753Z","updatedAt":"2024-10-13T12:54:20.753Z"}],"createdAt":"2024-10-13T12:40:00.105Z","updatedAt":"2024-10-13T13:02:13.580Z","__v":0}}

forum> db.posts.find()
[
  {
    _id: ObjectId('670bbfa0ceece7b1f3d9a19d'),
    postOwnerId: ObjectId('670bbe32ceece7b1f3d9a19a'),
    title: '測試文章',
    content: '這是一篇測試文章的內容',
    category: '測試',
    tags: [ 'test', 'demo' ],
    commentsCount: 1,
    likers: [],
    likersCount: 0,
    collectors: [ ObjectId('67051a712c7000224381db9e') ],
    collectorsCount: 1,
    status: 'public',
    comments: [
      {
        commenter: ObjectId('67051a712c7000224381db9e'),
        content: '這是 sean 的評論',
        _id: ObjectId('670bc2fcceece7b1f3d9a1a2'),
        createdAt: ISODate('2024-10-13T12:54:20.753Z'),
        updatedAt: ISODate('2024-10-13T12:54:20.753Z')
      }
    ],
    createdAt: ISODate('2024-10-13T12:40:00.105Z'),
    updatedAt: ISODate('2024-10-13T13:02:13.580Z'),
    __v: 0
  }
]
